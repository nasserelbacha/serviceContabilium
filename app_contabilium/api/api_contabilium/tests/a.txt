[?2004h[?1049h[22;0;0t[1;50r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[48;88H(B[0;7m[ Reading... ](B[m[48;86H(B[0;7m[ Read 111 lines ](B[m[H(B[0;7m  GNU nano 6.2                                                                    detect_providers_scan_area.py                                                                              [1;188H(B[m[49d(B[0;7m^G(B[m Help[49;18H(B[0;7m^O(B[m Write Out     (B[0;7m^W(B[m Where Is[52G(B[0;7m^K(B[m Cut[49;69H(B[0;7m^T(B[m Execute[86G(B[0;7m^C(B[m Location[103G(B[0;7mM-U(B[m Undo[49;120H(B[0;7mM-A(B[m Set Mark     (B[0;7mM-](B[m To Bracket   (B[0;7mM-Q(B[m Previous     (B[0;7m^B(B[m Back[50d(B[0;7m^X(B[m Exit[50;18H(B[0;7m^R(B[m Read File     (B[0;7m^\(B[m Replace[52G(B[0;7m^U(B[m Paste[50;69H(B[0;7m^J(B[m Justify[86G(B[0;7m^/(B[m Go To Line    (B[0;7mM-E(B[m Redo[50;120H(B[0;7mM-6(B[m Copy[50;137H(B[0;7m^Q(B[m Where Was     (B[0;7mM-W(B[m Next[50;171H(B[0;7m^F(B[m Forward[2d(B[0;1m[36mimport[39m(B[m pytesseract[3d(B[0;1m[36mimport[39m(B[m cv2[4d(B[0;1m[36mimport[39m(B[m os[5d(B[0;1m[31m#pytesseract.pytesseract.tesseract_cmd = r'C:\Program Files\Tesseract-OCR(B[0m\t(B[0;1m[31messeract.exe'[6d# from pdf2image import convert_from_path[7d[36mimport[39m(B[m pypdfium2 (B[0;1m[36mas[39m(B[m pdfium[10d(B[0;1m[36mdef[34m convert_pdf[39m(B[m(pdf_path, save_dir):[11;5Hpdf = pdfium.PdfDocument((B[0;1m[32m"test_factura.pdf"[39m(B[m)[12;5Hn_pages = len(pdf)[13;5H(B[0;1m[36mfor[39m(B[m page_number (B[0;1m[36min[39m(B[m range(n_pages):[14;9Hpage = pdf.get_page(page_number)[15;9Hpil_image = page.render_topil([16;13Hscale=1,[17;13Hrotation=0,[18;13Hcrop=(0, 0, 0, 0),[19;12H(B[0;1m[31m # colour=(255, 255, 255, 255),[20;12H # annotations=True,[21;13H[39m(B[mgreyscale=(B[0;1m[35mFalse[39m(B[m,[22;13Hoptimise_mode=pdfium.OptimiseMode.NONE,[23;9H)[42m       [24;9H[49m(B[mpil_image.save(f(B[0;1m[32m"image_{page_number+1}.png"[39m(B[m)[25d(B[0;1m[36mdef[34m readimage[39m(B[m(image_path):[26;5HImage = cv2.imread(image_path)[27;4H(B[0;1m[31m # y = "60:350"[28;4H # y = y.split(":")[29;4H # y1 = int(y[0])[30;4H # y2 = int(y[1])[31;5H[39m(B[my = 350[32;5HROI = Image[60:y, 80:1600][33;5Htext = (pytesseract.image_to_string(ROI))[34;5Hcontador = 0[35;5Hprint(text)[36;5H(B[0;1m[36mwhile[39m(B[m contador == 0:[37;10Hword = (B[0;1m[32m"CUIT:"[38;10H[39m(B[mposition = text.find(word)[39;10H(B[0;1m[36mif[39m(B[m position != -1:[40;13Hfollowing_text = text[position + len(word): position + len(word) + 18][41;13Hprint(following_text)[42;13Hcontador = contador + 1[43;10H(B[0;1m[36melse[39m(B[m:[44dword = (B[0;1m[32m"C.U.I.T."(B[0m[42m [45;13H[49m(B[mposition = text.find(word)[46;13H(B[0;1m[36mif[39m(B[m position != -1:[47;17Hfollowing_text = text[position + len(word): position + len(word) + 18][2d[?12l[?25h[?25l[1;113H(B[0;7m*[188G(B[m7[2;47r8[2dM[1;50r[3;1H[?12l[?25h[?25l[2;47r[2;1HM[1;50r[4;1H[?12l[?25h[?25l[2;47r[2;1HM[1;50r[5;1H[?12l[?25h[?25l[48;64H(B[0;7m[ line   4/115 ( 3%), col  1/19 (  5%), char    3/8090 ( 0%) ](B[m[?12l[?25h[5d[?25l[48;126H[?12l[?25h[5d[?25l[48;126H[?12l[?25h[5d[?25l[48;126H[?12l[?25h[5d[?25l[48;126H[?12l[?25h[5d[?25l[48;126H[?12l[?25h[5d[?25l[48;126H[?12l[?25h[5d[?25l[48;126H[?12l[?25h[5d[?25l[48;126H[?12l[?25h[5d[?25l[48;126H[?12l[?25h[5d[?25l[48;126H[?12l[?25h[5d[?25l[48;126H[?12l[?25h[5d[?25l[48;126H[?12l[?25h[5d[?25l[48;126H[?12l[?25h[5d[?25l[48;126H[?12l[?25h[5d[?25l[48;126H[?12l[?25h[5d[?25l[48;126H[?12l[?25h[5d[?25l[48;126H[?12l[?25h[5d[?25l[48;126H[?12l[?25h[5d[?25l[48;126H[?12l[?25h[5d[?25l[48;126H[?12l[?25h[5d[?25l[48;126H[?12l[?25h[5d[?25l[48;126H[?12l[?25h[5d[?25l[48;126H[?12l[?25h[5d[?25l[48d(B[0;7mSave modified buffer?                                                                                                                                                                        [49;1H Y(B[m Yes[K[50d(B[0;7m N(B[m No  [50;17H(B[0;7m^C(B[m Cancel[K[48;23H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[48;88H[1K (B[0;7m[ Cancelled ](B[m[K[49d(B[0;7m^G(B[m Help[49;18H(B[0;7m^O(B[m Write Out     (B[0;7m^W(B[m Where Is[52G(B[0;7m^K(B[m Cut[49;69H(B[0;7m^T(B[m Execute[86G(B[0;7m^C(B[m Location[103G(B[0;7mM-U(B[m Undo[49;120H(B[0;7mM-A(B[m Set Mark     (B[0;7mM-](B[m To Bracket   (B[0;7mM-Q(B[m Previous     (B[0;7m^B(B[m Back[50d(B[0;7m^X(B[m Exit[50;17H (B[0;7m^R(B[m Read File     (B[0;7m^\(B[m Replace[52G(B[0;7m^U(B[m Paste[50;69H(B[0;7m^J(B[m Justify[86G(B[0;7m^/(B[m Go To Line    (B[0;7mM-E(B[m Redo[50;120H(B[0;7mM-6(B[m Copy[50;137H(B[0;7m^Q(B[m Where Was     (B[0;7mM-W(B[m Next[50;171H(B[0;7m^F(B[m Forward[?12l[?25h[5d[?25l[48;64H(B[0;7m[ line   4/115 ( 3%), col  1/19 (  5%), char    3/8090 ( 0%) ](B[m[?12l[?25h[5d[?25l[48;126H[?12l[?25h[5d[50;1H[?1049l[23;0;0t[?1l>[?2004l[50;1H[?1049l[23;0;0t[?1l>[?1049h[22;0;0t[1;50r[?12l[?25h[39;49m(B[m[4l[?7h[H[2J[?2004h[?1h=[?1h=(B[0;7m  GNU nano 6.2                                                                    detect_providers_scan_area.py *                                                                            [1;188H(B[m[5d(B[0;1m[36mimport[39m(B[m pytesseract[6d(B[0;1m[36mimport[39m(B[m cv2[7d(B[0;1m[36mimport[39m(B[m os[8d(B[0;1m[31m#pytesseract.pytesseract.tesseract_cmd = r'C:\Program Files\Tesseract-OCR(B[0m\t(B[0;1m[31messeract.exe'[9d# from pdf2image import convert_from_path[10d[36mimport[39m(B[m pypdfium2 (B[0;1m[36mas[39m(B[m pdfium[13d(B[0;1m[36mdef[34m convert_pdf[39m(B[m(pdf_path, save_dir):[14;5Hpdf = pdfium.PdfDocument((B[0;1m[32m"test_factura.pdf"[39m(B[m)[15;5Hn_pages = len(pdf)[16;5H(B[0;1m[36mfor[39m(B[m page_number (B[0;1m[36min[39m(B[m range(n_pages):[17;9Hpage = pdf.get_page(page_number)[18;9Hpil_image = page.render_topil([19;13Hscale=1,[20;13Hrotation=0,[21;13Hcrop=(0, 0, 0, 0),[22;12H(B[0;1m[31m # colour=(255, 255, 255, 255),[23;12H # annotations=True,[24;13H[39m(B[mgreyscale=(B[0;1m[35mFalse[39m(B[m,[25;13Hoptimise_mode=pdfium.OptimiseMode.NONE,[26;9H)[42m       [27;9H[49m(B[mpil_image.save(f(B[0;1m[32m"image_{page_number+1}.png"[39m(B[m)[28d(B[0;1m[36mdef[34m readimage[39m(B[m(image_path):[29;5HImage = cv2.imread(image_path)[30;4H(B[0;1m[31m # y = "60:350"[31;4H # y = y.split(":")[32;4H # y1 = int(y[0])[33;4H # y2 = int(y[1])[34;5H[39m(B[my = 350[35;5HROI = Image[60:y, 80:1600][36;5Htext = (pytesseract.image_to_string(ROI))[37;5Hcontador = 0[38;5Hprint(text)[39;5H(B[0;1m[36mwhile[39m(B[m contador == 0:[40;10Hword = (B[0;1m[32m"CUIT:"[41;10H[39m(B[mposition = text.find(word)[42;10H(B[0;1m[36mif[39m(B[m position != -1:[43;13Hfollowing_text = text[position + len(word): position + len(word) + 18][44;13Hprint(following_text)[45;13Hcontador = contador + 1[46;10H(B[0;1m[36melse[39m(B[m:[47dword = (B[0;1m[32m"C.U.I.T."(B[0m[42m [49d[49m(B[0;7m^G(B[m Help[49;18H(B[0;7m^O(B[m Write Out     (B[0;7m^W(B[m Where Is[52G(B[0;7m^K(B[m Cut[49;69H(B[0;7m^T(B[m Execute[86G(B[0;7m^C(B[m Location[103G(B[0;7mM-U(B[m Undo[49;120H(B[0;7mM-A(B[m Set Mark     (B[0;7mM-](B[m To Bracket   (B[0;7mM-Q(B[m Previous     (B[0;7m^B(B[m Back[50d(B[0;7m^X(B[m Exit[50;18H(B[0;7m^R(B[m Read File     (B[0;7m^\(B[m Replace[52G(B[0;7m^U(B[m Paste[50;69H(B[0;7m^J(B[m Justify[86G(B[0;7m^/(B[m Go To Line    (B[0;7mM-E(B[m Redo[50;120H(B[0;7mM-6(B[m Copy[50;137H(B[0;7m^Q(B[m Where Was     (B[0;7mM-W(B[m Next[50;171H(B[0;7m^F(B[m Forward